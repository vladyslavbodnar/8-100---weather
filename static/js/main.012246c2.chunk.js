(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{37:function(e,t,c){},55:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(20),r=c.n(i),o=(c(37),c(5)),s=c(15),u=c(7),j=c(14),d=c(3),l=c(2),b=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(j.b,{to:"/",children:"Weather"}),Object(l.jsx)(j.b,{to:"/settings",children:"Settings"})]})},O=c(28),h=c.n(O),p=function(){Object(n.useEffect)((function(){document.title="Settings"}),[]);var e=Object(d.f)(),t=Object(n.useContext)(U),c=Object(o.a)(t,2),a=c[0],i=c[1];return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:["Temperature Unit:",Object(l.jsxs)("select",{value:a.temperatureUnit,onChange:function(e){return i({type:e.target.value})},children:[Object(l.jsx)("option",{value:"c",children:"Celsius"}),Object(l.jsx)("option",{value:"f",children:"Fahrenheit"}),Object(l.jsx)("option",{value:"k",children:"Kelvin"})]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Saved Locations"}),a.savedLocations.length>0?a.savedLocations.map((function(t){return Object(l.jsxs)("div",{children:[Object(l.jsx)("a",{className:"Settings__city-name",onClick:function(){return i({type:"setLocation",payload:t}),void e.push("/")},children:t.split(",").join(", ")}),Object(l.jsx)("button",{onClick:function(){return i({type:"removeLocation",payload:t})},children:Object(l.jsx)(h.a,{})})]},t)})):Object(l.jsx)("p",{children:"Empty :c"})]})]})},v=function(e){var t=e.cities,c=Object(n.useState)(""),a=Object(o.a)(c,2),i=a[0],r=a[1],s=Object(n.useState)([]),u=Object(o.a)(s,2),j=u[0],d=u[1],b=Object(n.useContext)(U),O=Object(o.a)(b,2),h=(O[0],O[1]),p=function(e){"Enter"===e.key&&(h({type:"setLocation",payload:e.target.value}),r(""),d([]))};return Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"text",value:i,onChange:function(e){return function(e){if(r(e.target.value),""!==e.target.value){var c=t.filter((function(t){return t.name.startsWith(e.target.value)}));d(c)}else d([])}(e)},onKeyDown:function(e){return p(e)}}),j.map((function(e){return Object(l.jsxs)("h3",{onClick:function(){return p({key:"Enter",target:{value:"".concat(e.name,",").concat(e.countryCode)}})},children:[e.name,", ",e.countryCode]})}))]})},f=c(30),m=c.n(f),x=c(31),y=c.n(x),g=c(27),w=c.n(g),L=c(29),k="cc4ab46be8c995ffafc858ed7cd26383",C=function(){var e=Object(n.useContext)(U),t=Object(o.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(null),r=Object(o.a)(i,2),s=r[0],u=r[1],j=Object(n.useState)(null),d=Object(o.a)(j,2),b=d[0],O=d[1],h=Object(n.useState)(""),p=Object(o.a)(h,2),f=p[0],x=p[1],g=Object(n.useMemo)((function(){return L.City.getAllCities()}),[]);Object(n.useEffect)((function(){document.title="Weather",c.currentLocation||navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,c=e.coords.longitude;a({type:"setLocation",payload:{latitude:t,longitude:c}})}))}),[]),Object(n.useEffect)((function(){c.currentLocation&&function(e){x("Searching..");var t,n="";switch(c.temperatureUnit){case"c":t="metric";break;case"f":t="imperial";break;case"k":t="standard"}"object"===typeof e&&(n="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e.latitude,"&lon=").concat(e.longitude,"&units=").concat(t,"&appid=").concat(k)),"string"===typeof e&&(n="https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&units=").concat(t,"&APPID=").concat(k)),fetch(n).then((function(e){if(e.ok)return e.json();x("Location not found")})).then((function(e){return u(e)}))}(c.currentLocation)}),[c.currentLocation]),Object(n.useEffect)((function(){var e;if(s){var t;switch(s.list[0].weather[0].main){case"Rain":t="\ud83c\udf27\ufe0f";break;case"Snow":t="\u2744\ufe0f";break;case"Thunderstorm":t="\ud83c\udf29\ufe0f";break;case"Thunderstorm":t="";break;case"Drizzle":t="\ud83c\udf27\ufe0f";break;case"Clouds":t="\u2601\ufe0f";break;case"Clear":t="\u2600\ufe0f";break;default:t=""}document.title="".concat(s.city.name," ").concat(t," - Weather")}(null===c||void 0===c||null===(e=c.savedLocations)||void 0===e?void 0:e.some((function(e){var t,c;return e==="".concat(null===s||void 0===s||null===(t=s.city)||void 0===t?void 0:t.name,",").concat(null===s||void 0===s||null===(c=s.city)||void 0===c?void 0:c.country)})))?O(!0):O(!1)}),[s]),Object(n.useEffect)((function(){var e;(null===c||void 0===c||null===(e=c.savedLocations)||void 0===e?void 0:e.some((function(e){var t,c;return e==="".concat(null===s||void 0===s||null===(t=s.city)||void 0===t?void 0:t.name,",").concat(null===s||void 0===s||null===(c=s.city)||void 0===c?void 0:c.country)})))?O(!0):O(!1)}),[c]);return Object(l.jsxs)("div",{children:[Object(l.jsx)(v,{cities:g}),s?Object(l.jsxs)("div",{children:[Object(l.jsxs)("h2",{children:[s.city.name,", ",s.city.country]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:s.list[0].weather[0].description}),Object(l.jsx)("button",{onClick:function(){return b||a({type:"saveLocation",payload:"".concat(s.city.name,",").concat(s.city.country)}),void(b&&a({type:"removeLocation",payload:"".concat(s.city.name,",").concat(s.city.country)}))},children:b?Object(l.jsx)(m.a,{}):Object(l.jsx)(y.a,{})}),Object(l.jsxs)("p",{children:[Math.round(s.list[0].main.temp),"\xb0",c.temperatureUnit]}),Object(l.jsxs)("p",{children:["Humidity: ",s.list[0].main.humidity,"%"]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(w.a,{style:{transform:"rotate(".concat(s.list[0].wind.deg-45,"deg)")}}),s.list[0].wind.speed,"c"===c.temperatureUnit&&"meter/sec","f"===c.temperatureUnit&&"miles/hour","k"===c.temperatureUnit&&"meter/sec"]}),Object(l.jsx)("p",{children:s.list[0].dx_txt}),Object(l.jsxs)("h3",{children:["Sunrise: ",new Date(1e3*s.city.sunrise).getHours(),":",new Date(1e3*s.city.sunrise).getMinutes()]}),Object(l.jsxs)("h3",{children:["Sunset: ",new Date(1e3*s.city.sunset).getHours(),":",new Date(1e3*s.city.sunset).getMinutes()]})]}),Object(l.jsx)("div",{className:"Weather__future-predictions",children:s&&s.list.map((function(e){if(e!==s.list[0])return Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:0===new Date(e.dt_txt).getHours()?Object(l.jsxs)("p",{children:[new Date(e.dt_txt).getDate(),"/",new Date(e.dt_txt).getMonth()+1]}):Object(l.jsxs)("p",{children:[new Date(e.dt_txt).getHours(),":00"]})}),Object(l.jsx)("img",{}),Object(l.jsxs)("p",{children:["Here must be an icon ",e.weather[0].main]}),Object(l.jsxs)("p",{children:[e.main.temp,"\xb0",c.temperatureUnit]}),Object(l.jsxs)("p",{children:[Object(l.jsx)(w.a,{style:{transform:"rotate(".concat(e.wind.deg-45,"deg)")}}),e.wind.speed,"c"===c.temperatureUnit&&"meter/sec","f"===c.temperatureUnit&&"miles/hour","k"===c.temperatureUnit&&"meter/sec"]})]})}))})]}):Object(l.jsx)("p",{children:f})]})},U=a.a.createContext(),S={temperatureUnit:"c",currentLocation:null,savedLocations:[]};function D(e,t){switch(t.type){case"c":return Object(u.a)(Object(u.a)({},e),{},{temperatureUnit:"c"});case"f":return Object(u.a)(Object(u.a)({},e),{},{temperatureUnit:"f"});case"k":return Object(u.a)(Object(u.a)({},e),{},{temperatureUnit:"k"});case"setLocation":return Object(u.a)(Object(u.a)({},e),{},{currentLocation:t.payload});case"saveLocation":return e.savedLocations.some((function(e){return e===t.payload}))?e:Object(u.a)(Object(u.a)({},e),{},{savedLocations:[].concat(Object(s.a)(e.savedLocations),[t.payload])});case"removeLocation":return Object(u.a)(Object(u.a)({},e),{},{savedLocations:e.savedLocations.filter((function(e){return e!==t.payload}))});default:throw new Error}}var E=function(){var e=Object(n.useReducer)(D,S),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(l.jsx)(U.Provider,{value:[c,a],children:Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(j.a,{children:[Object(l.jsxs)(d.c,{children:[Object(l.jsx)(d.a,{path:"/",exact:!0,children:Object(l.jsx)(C,{})}),Object(l.jsx)(d.a,{path:"/settings",children:Object(l.jsx)(p,{})})]}),Object(l.jsx)(b,{})]})})})};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(E,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.012246c2.chunk.js.map